window.adHocFetch=e=>{const{dispatch:a,action:r,onStarting:t=()=>{},onSuccess:n=()=>{},onError:o=()=>{},onCatch:s=()=>{},onFinally:c=()=>{},linearStart:p=1,linearEnd:l=100,linearAutoCloseAfter:y=2e3,snackbarMessageOnSuccess:i="",snackbarMessageOnError:d="",snackbarTypeOnSuccess:g="success",snackbarTypeOnError:A="error",lateTime:I=5e3,showBackdrop:S=!0}=e;if(!a||!r||"function"!=typeof a||"function"!=typeof r)return new Error("Missing dispatch or action");S&&a({type:"SHOW_BACKDROP"}),t&&t();let u=0,O=setInterval(()=>{(u+=100)>=I&&(clearInterval(O),a({type:"SHOW_SNACKBAR",payload:{message:"Our server is starting... Please wait.",type:"info"}}))},100),R=(a({type:"SHOW_LINEAR",payload:{percentage:p}}),p);const m=setInterval(()=>{R+=getRandomNumberInRange(1,10),a({type:"SHOW_LINEAR",payload:{percentage:R}}),70<=R&&clearInterval(m)},1e3);a(r).then(e=>{clearInterval(O),clearInterval(m),a({type:"SHOW_LINEAR",payload:{percentage:l}}),e?.error?(a({type:"SHOW_SNACKBAR",payload:{message:""+("string"==typeof e?.error?e?.error:e.error?.message),type:A,duration:y||6e3}}),o&&o(e.error)):(a({type:"SHOW_SNACKBAR",payload:{message:i||e.message||"",type:g,duration:y}}),n&&n(e)),setTimeout(()=>a({type:"HIDE_LINEAR"}),y)}).catch(e=>{clearInterval(O),a({type:"SHOW_LINEAR",payload:{percentage:l}}),e&&a({type:"SHOW_SNACKBAR",payload:{message:d||""+e,type:A,duration:y||6e3}}),setTimeout(()=>a({type:"HIDE_LINEAR"}),y),s&&s(e)}).finally(()=>{S&&a({type:"HIDE_BACKDROP"}),c&&c()})};const getRandomNumberInRange=(e,a)=>Math.floor(Math.random()*(a-e+1))+e;